<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="400" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">
    SecuAI Architecture - Cloud Run Hackathon 2025
  </text>
  
  <!-- User/Client -->
  <g id="user">
    <rect x="50" y="100" width="150" height="80" fill="#4285F4" stroke="#1967D2" stroke-width="2" rx="5"/>
    <text x="125" y="135" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
      üë§ User/Client
    </text>
    <text x="125" y="155" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
      Web Browser
    </text>
    <text x="125" y="170" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
      or API Client
    </text>
  </g>
  
  <!-- Arrow 1: User to Cloud Run -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333"/>
    </marker>
  </defs>
  <line x1="200" y1="140" x2="280" y2="140" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="240" y="130" font-family="Arial, sans-serif" font-size="12" fill="#333">HTTPS</text>
  
  <!-- Cloud Run Service (Main) -->
  <g id="cloudrun">
    <rect x="280" y="80" width="240" height="280" fill="#34A853" stroke="#0F9D58" stroke-width="3" rx="8"/>
    <text x="400" y="110" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
      ‚òÅÔ∏è Google Cloud Run
    </text>
    <text x="400" y="130" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
      Serverless Container Platform
    </text>
    
    <!-- Flask App inside Cloud Run -->
    <rect x="300" y="150" width="200" height="60" fill="#FBBC04" stroke="#F9AB00" stroke-width="2" rx="5"/>
    <text x="400" y="175" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">
      üêç Flask Application
    </text>
    <text x="400" y="195" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333">
      Python 3.11 + Gunicorn
    </text>
    
    <!-- AI Analyzer inside Cloud Run -->
    <rect x="300" y="220" width="200" height="60" fill="#EA4335" stroke="#C5221F" stroke-width="2" rx="5"/>
    <text x="400" y="245" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">
      ü§ñ AI Security Analyzer
    </text>
    <text x="400" y="265" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
      Threat Intelligence Engine
    </text>
    
    <!-- Database inside Cloud Run -->
    <rect x="300" y="290" width="200" height="60" fill="#5E97F6" stroke="#4285F4" stroke-width="2" rx="5"/>
    <text x="400" y="315" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">
      üíæ SQLite Database
    </text>
    <text x="400" y="335" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
      Alerts, Blocks, Users
    </text>
  </g>
  
  <!-- Arrow 2: Cloud Run to Gemini AI -->
  <line x1="520" y1="250" x2="600" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="560" y="240" font-family="Arial, sans-serif" font-size="12" fill="#333">API Call</text>
  <text x="560" y="270" font-family="Arial, sans-serif" font-size="10" fill="#666">Rate Limited</text>
  
  <!-- Gemini AI -->
  <g id="gemini">
    <rect x="600" y="200" width="150" height="100" fill="#9334E9" stroke="#7C1ED9" stroke-width="2" rx="5"/>
    <text x="675" y="230" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
      ‚ú® Google Gemini
    </text>
    <text x="675" y="250" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="white">
      2.5 Flash
    </text>
    <text x="675" y="270" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
      Threat Analysis
    </text>
    <text x="675" y="285" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
      Risk Scoring
    </text>
  </g>
  
  <!-- Log Sources (Bottom) -->
  <g id="logs">
    <text x="400" y="420" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">
      üìã Security Log Sources
    </text>
    
    <!-- SSH Logs -->
    <rect x="50" y="440" width="120" height="60" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2" rx="5"/>
    <text x="110" y="465" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#333">
      SSH Logs
    </text>
    <text x="110" y="485" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">
      /var/log/auth.log
    </text>
    
    <!-- Web Server Logs -->
    <rect x="190" y="440" width="120" height="60" fill="#E3F2FD" stroke="#2196F3" stroke-width="2" rx="5"/>
    <text x="250" y="465" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#333">
      Web Logs
    </text>
    <text x="250" y="485" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">
      Apache/Nginx
    </text>
    
    <!-- Suricata IDS -->
    <rect x="330" y="440" width="120" height="60" fill="#FFF3E0" stroke="#FF9800" stroke-width="2" rx="5"/>
    <text x="390" y="465" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#333">
      Suricata IDS
    </text>
    <text x="390" y="485" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">
      EVE JSON
    </text>
    
    <!-- Honeypot -->
    <rect x="470" y="440" width="120" height="60" fill="#FCE4EC" stroke="#E91E63" stroke-width="2" rx="5"/>
    <text x="530" y="465" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#333">
      Honeypot
    </text>
    <text x="530" y="485" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">
      Threat Intel
    </text>
    
    <!-- File Upload -->
    <rect x="610" y="440" width="120" height="60" fill="#F3E5F5" stroke="#9C27B0" stroke-width="2" rx="5"/>
    <text x="670" y="465" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#333">
      File Upload
    </text>
    <text x="670" y="485" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">
      Manual Analysis
    </text>
  </g>
  
  <!-- Arrows from logs to Cloud Run -->
  <line x1="110" y1="440" x2="350" y2="360" stroke="#666" stroke-width="1.5" stroke-dasharray="5,5"/>
  <line x1="250" y1="440" x2="370" y2="360" stroke="#666" stroke-width="1.5" stroke-dasharray="5,5"/>
  <line x1="390" y1="440" x2="400" y2="360" stroke="#666" stroke-width="1.5" stroke-dasharray="5,5"/>
  <line x1="530" y1="440" x2="430" y2="360" stroke="#666" stroke-width="1.5" stroke-dasharray="5,5"/>
  <line x1="670" y1="440" x2="450" y2="360" stroke="#666" stroke-width="1.5" stroke-dasharray="5,5"/>
  
  <!-- Key Features Box -->
  <g id="features">
    <rect x="50" y="520" width="700" height="70" fill="#F5F5F5" stroke="#999" stroke-width="1" rx="5"/>
    <text x="60" y="545" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">
      üîë Key Features:
    </text>
    <text x="60" y="565" font-family="Arial, sans-serif" font-size="12" fill="#555">
      ‚Ä¢ AI-Powered Threat Analysis with Gemini 2.5 Flash
    </text>
    <text x="60" y="580" font-family="Arial, sans-serif" font-size="12" fill="#555">
      ‚Ä¢ Real-time Security Monitoring ‚Ä¢ Rate Limiting (60 req/min) ‚Ä¢ Smart Caching (5-min TTL) ‚Ä¢ Graceful Fallback
    </text>
  </g>
  
  <!-- Footer -->
  <text x="400" y="605" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#999">
    Built with Google Cloud Run + Gemini AI | Deployed as Serverless Container | Auto-scaling + Zero Cold Start
  </text>
</svg>
